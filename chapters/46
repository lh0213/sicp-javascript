<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SicpTextbookRails</title>
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="B/vVXSATyv7LlEMWGrh2lZRsDAu1/VRSi5Qe9xSBnY/7cYXUPFDL5m2/0SKOb/xfcoRkXYsbMDbK4C5NVYW0YQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/application-4afa0dc75ea8a2ff925eb41df709aa5f5fae6640df639d9b6ae50ed06be5a5d2.css" />

    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon-5cc7f923fb946d60fe9552847f4b6edd0f8cf2f122d6f3fef39d59ce84d47942.ico" />

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
			  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <script src="../assets/application-e1d34c17f2d1680f21b650089aea08e3ecfe292f1157f2d23bfa7d4d9d530c8b.js"></script>

    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

     <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
       <a class="navbar-brand navbar-brand-short" href="../chapters">CS1101S: SICP</a>
       <a class="navbar-brand navbar-brand-long" href="../chapters">CS1101S: Structure and Interpretation
          of Computer Programs</a>

       <div class="collapse navbar-collapse" id="navbarsExampleDefault">
         <form id="search" class="form-inline my-2 my-lg-0">
           <input id="search-box" class="form-control mr-sm-2" type="text" placeholder="Search">
           <div id="search-button" class="btn btn-outline-success my-2 my-sm-0">Search</div>

           <script>
               (function() {
                var cx = "002429487986305006822:ztnrbwx01qy";
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
               })();
            </script>
            <gcse:search></gcse:search>
         </form>
       </div>
     </nav>

     <div class="container scroll">

          <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-122">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                    <a href="122">About</a>
                  </a>
                </h5>
              </div>
            </div>

                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-123">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                    <a href="123">References</a>
                  </a>
                </h5>
              </div>
            </div>

                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-124">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                    <a href="124">Webpreface</a>
                  </a>
                </h5>
              </div>
            </div>

                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-1">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-1" aria-expanded="true" aria-controls="sidebar-collapse-1">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-1" aria-expanded="true" aria-controls="sidebar-collapse-1">
                    -
                  </a>
                    <a href="1">1.       Building Abstractions with       Functions    </a>
                </h5>
              </div>
              <div id="sidebar-collapse-1" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-2">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-1" href="#sidebar-collapse-2" aria-expanded="true" aria-controls="sidebar-collapse-2">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-1" href="#sidebar-collapse-2" aria-expanded="true" aria-controls="sidebar-collapse-2">
                    -
                  </a>
                    <a href="2">1. The Elements of Programming</a>
                </h5>
              </div>
              <div id="sidebar-collapse-2" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-3">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                    <a href="3">1. Expressions</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-4" aria-expanded="false" aria-controls="sidebar-collapse-4">
                    <a href="4">2. Naming and the Environment</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-5" aria-expanded="false" aria-controls="sidebar-collapse-5">
                    <a href="5">3.           Evaluating          Operator Combinations                  </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-6">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                    <a href="6">4.           Functions        </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-7">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                    <a href="7">5.           The Substitution Model for                                                 Function                              Application        </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-8">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                    <a href="8">6.           Conditional                                           Statements                              and Predicates        </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-9">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                    <a href="9">7. Example: Square Roots by Newtons Method</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-10">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-2" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                    <a href="10">8.                                                 Functions                                as Black-Box Abstractions        </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-11">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-1" href="#sidebar-collapse-11" aria-expanded="true" aria-controls="sidebar-collapse-11">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-1" href="#sidebar-collapse-11" aria-expanded="true" aria-controls="sidebar-collapse-11">
                    -
                  </a>
                    <a href="11">2.             Functions            and the Processes They Generate      </a>
                </h5>
              </div>
              <div id="sidebar-collapse-11" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-12">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-11" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                    <a href="12">1. Linear Recursion and Iteration</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-13">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-11" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                    <a href="13">2. Tree Recursion</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-11" href="#sidebar-collapse-14" aria-expanded="false" aria-controls="sidebar-collapse-14">
                    <a href="14">3. Orders of Growth</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-15">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-11" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                    <a href="15">4. Exponentiation</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-16">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-11" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                    <a href="16">5. Greatest Common Divisors</a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-17">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-11" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                    <a href="17">6. Example: Testing for Primality</a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-18">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-1" href="#sidebar-collapse-18" aria-expanded="true" aria-controls="sidebar-collapse-18">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-1" href="#sidebar-collapse-18" aria-expanded="true" aria-controls="sidebar-collapse-18">
                    -
                  </a>
                    <a href="18">3.         Formulating Abstractions with Higher-Order         Functions      </a>
                </h5>
              </div>
              <div id="sidebar-collapse-18" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-19">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-18" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                    <a href="19">1.           Functions          as Arguments        </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-20">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-18" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                    <a href="20">2.           Function Definition Expressions          </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-18" href="#sidebar-collapse-21" aria-expanded="false" aria-controls="sidebar-collapse-21">
                    <a href="21">3.             Functions            as General Methods          </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-22">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-18" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                    <a href="22">4.               Functions              as Returned Values            </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>

                </div>
              </div>
            </div>

                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-23">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-23" aria-expanded="true" aria-controls="sidebar-collapse-23">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-23" aria-expanded="true" aria-controls="sidebar-collapse-23">
                    -
                  </a>
                    <a href="23">2. Building Abstractions with Data</a>
                </h5>
              </div>
              <div id="sidebar-collapse-23" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-24">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-24" aria-expanded="true" aria-controls="sidebar-collapse-24">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-24" aria-expanded="true" aria-controls="sidebar-collapse-24">
                    -
                  </a>
                    <a href="24">1. Introduction to Data Abstraction</a>
                </h5>
              </div>
              <div id="sidebar-collapse-24" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-25">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-24" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                    <a href="25">1.         Example: Arithmetic Operations for Rational Numbers      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-24" href="#sidebar-collapse-26" aria-expanded="false" aria-controls="sidebar-collapse-26">
                    <a href="26">2.         Abstraction Barriers      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-24" href="#sidebar-collapse-27" aria-expanded="false" aria-controls="sidebar-collapse-27">
                    <a href="27">3.         What Is Meant by Data?      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-28">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-24" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                    <a href="28">4.         Extended Exercise: Interval Arithmetic      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-29">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-29" aria-expanded="true" aria-controls="sidebar-collapse-29">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-29" aria-expanded="true" aria-controls="sidebar-collapse-29">
                    -
                  </a>
                    <a href="29">2. Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
              <div id="sidebar-collapse-29" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-30">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-29" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                    <a href="30">1.         Representing Sequences      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-31">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-29" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                    <a href="31">2.         Hierarchical Structures      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-29" href="#sidebar-collapse-32" aria-expanded="false" aria-controls="sidebar-collapse-32">
                    <a href="32">3.         Sequences as Conventional Interfaces      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-33">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-29" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                    <a href="33">4.         Example: A Picture Language      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-34">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-34" aria-expanded="true" aria-controls="sidebar-collapse-34">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-34" aria-expanded="true" aria-controls="sidebar-collapse-34">
                    -
                  </a>
                    <a href="34">3. Symbolic Data</a>
                </h5>
              </div>
              <div id="sidebar-collapse-34" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-35">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-34" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                    <a href="35">1.         Strings      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-36">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-34" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                    <a href="36">2.         Example: Symbolic Differentiation      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-34" href="#sidebar-collapse-37" aria-expanded="false" aria-controls="sidebar-collapse-37">
                    <a href="37">3.         Example: Representing Sets      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-38">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-34" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                    <a href="38">4.         Example: Huffman Encoding Trees      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-39">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-39" aria-expanded="true" aria-controls="sidebar-collapse-39">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-39" aria-expanded="true" aria-controls="sidebar-collapse-39">
                    -
                  </a>
                    <a href="39">4. Multiple Representations for Abstract Data</a>
                </h5>
              </div>
              <div id="sidebar-collapse-39" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-40">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-39" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                    <a href="40">1.         Representations for Complex Numbers      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-41">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-39" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                    <a href="41">2.         Tagged data      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-39" href="#sidebar-collapse-42" aria-expanded="false" aria-controls="sidebar-collapse-42">
                    <a href="42">3.         Data-Directed Programming and Additivity      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-43">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-43" aria-expanded="true" aria-controls="sidebar-collapse-43">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-23" href="#sidebar-collapse-43" aria-expanded="true" aria-controls="sidebar-collapse-43">
                    -
                  </a>
                    <a href="43">5. Systems with Generic Operations</a>
                </h5>
              </div>
              <div id="sidebar-collapse-43" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-44">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-43" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                    <a href="44">1.         Generic Arithmetic Operations      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-45">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-43" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                    <a href="45">2.         Combining Data of Different Types      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-43" href="#sidebar-collapse-46" aria-expanded="false" aria-controls="sidebar-collapse-46">
                    <a href="46">3.         Example: Symbolic Algebra      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>

                </div>
              </div>
            </div>

                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-47">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-47" aria-expanded="true" aria-controls="sidebar-collapse-47">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-47" aria-expanded="true" aria-controls="sidebar-collapse-47">
                    -
                  </a>
                    <a href="47">3. Modularity, Objects, and State</a>
                </h5>
              </div>
              <div id="sidebar-collapse-47" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-48">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-48" aria-expanded="true" aria-controls="sidebar-collapse-48">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-48" aria-expanded="true" aria-controls="sidebar-collapse-48">
                    -
                  </a>
                    <a href="48">1. Assignment and Local State</a>
                </h5>
              </div>
              <div id="sidebar-collapse-48" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-49">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-48" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                    <a href="49">1.         Local State Variables      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-48" href="#sidebar-collapse-50" aria-expanded="false" aria-controls="sidebar-collapse-50">
                    <a href="50">2.         The Benefits of Introducing Assignment      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-48" href="#sidebar-collapse-51" aria-expanded="false" aria-controls="sidebar-collapse-51">
                    <a href="51">3.         The Costs of Introducing Assignment      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-52">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-52" aria-expanded="true" aria-controls="sidebar-collapse-52">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-52" aria-expanded="true" aria-controls="sidebar-collapse-52">
                    -
                  </a>
                    <a href="52">2. The Environment Model of Evaluation</a>
                </h5>
              </div>
              <div id="sidebar-collapse-52" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-53">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-52" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                    <a href="53">1.         The Rules for Evaluation      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-54">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-52" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                    <a href="54">2.         Applying Simple        Functions      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-52" href="#sidebar-collapse-55" aria-expanded="false" aria-controls="sidebar-collapse-55">
                    <a href="55">3.         Frames as the Repository of Local State      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-56">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-52" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                    <a href="56">4.         Internal Definitions      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-57">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-57" aria-expanded="true" aria-controls="sidebar-collapse-57">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-57" aria-expanded="true" aria-controls="sidebar-collapse-57">
                    -
                  </a>
                    <a href="57">3. Modeling with Mutable Data</a>
                </h5>
              </div>
              <div id="sidebar-collapse-57" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-58">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-57" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                    <a href="58">1.         Mutable List Structure      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-59">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-57" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                    <a href="59">2.         Representing Queues      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-57" href="#sidebar-collapse-60" aria-expanded="false" aria-controls="sidebar-collapse-60">
                    <a href="60">3.         Representing Tables      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-61">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-57" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                    <a href="61">4.         A Simulator for Digital Circuits      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-62">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-57" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                    <a href="62">5.         Propagation of Constraints      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-63">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-63" aria-expanded="true" aria-controls="sidebar-collapse-63">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-63" aria-expanded="true" aria-controls="sidebar-collapse-63">
                    -
                  </a>
                    <a href="63">4. Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
              <div id="sidebar-collapse-63" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-64">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-63" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                    <a href="64">1.         The Nature of Time in Concurrent Systems      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-65">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-63" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                    <a href="65">2.         Mechanisms for Controlling Concurrency      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-47" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                    -
                  </a>
                    <a href="66">5. Streams</a>
                </h5>
              </div>
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-67">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-66" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                    <a href="67">1.         Streams Are Delayed Lists      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-68">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-66" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                    <a href="68">2.         Infinite Streams      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-66" href="#sidebar-collapse-69" aria-expanded="false" aria-controls="sidebar-collapse-69">
                    <a href="69">3.   Exploiting the Stream Paradigm      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-70">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-66" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                    <a href="70">4.   Streams and Delayed Evaluation      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-71">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-66" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                    <a href="71">5.   Modularity of Functional Programs and Modularity of Objects      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>

                </div>
              </div>
            </div>

                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-72">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-72" aria-expanded="true" aria-controls="sidebar-collapse-72">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-72" aria-expanded="true" aria-controls="sidebar-collapse-72">
                    -
                  </a>
                    <a href="72">4. Metalinguistic Abstraction</a>
                </h5>
              </div>
              <div id="sidebar-collapse-72" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-73">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-73" aria-expanded="true" aria-controls="sidebar-collapse-73">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-73" aria-expanded="true" aria-controls="sidebar-collapse-73">
                    -
                  </a>
                    <a href="73">1. The Metacircular Evaluator</a>
                </h5>
              </div>
              <div id="sidebar-collapse-73" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-74">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-73" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                    <a href="74">1.   The Core of the Evaluator      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-73" href="#sidebar-collapse-75" aria-expanded="false" aria-controls="sidebar-collapse-75">
                    <a href="75">2.   Representing Statements and Expressions      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-73" href="#sidebar-collapse-76" aria-expanded="false" aria-controls="sidebar-collapse-76">
                    <a href="76">3.   Evaluator Data Structures      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-77">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-73" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                    <a href="77">4.   Running the Evaluator as a Program      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-78">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-73" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                    <a href="78">5.   Data as Programs      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-79">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-73" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                    <a href="79">6.   Internal Definitions      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-80">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-73" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                    <a href="80">7.   Separating Syntactic Analysis from Execution      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-81">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-81" aria-expanded="true" aria-controls="sidebar-collapse-81">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-81" aria-expanded="true" aria-controls="sidebar-collapse-81">
                    -
                  </a>
                    <a href="81">2. Variations on a SchemeLazy Evaluation</a>
                </h5>
              </div>
              <div id="sidebar-collapse-81" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-82">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-81" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                    <a href="82">1.   Normal Order and Applicative Order      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-83">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-81" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                    <a href="83">2.   An Interpreter with Lazy Evaluation      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-81" href="#sidebar-collapse-84" aria-expanded="false" aria-controls="sidebar-collapse-84">
                    <a href="84">3.   Streams as Lazy Lists      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-85">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-85" aria-expanded="true" aria-controls="sidebar-collapse-85">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-85" aria-expanded="true" aria-controls="sidebar-collapse-85">
                    -
                  </a>
                    <a href="85">3. Variations on a SchemeNondeterministic Computing</a>
                </h5>
              </div>
              <div id="sidebar-collapse-85" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-86">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-85" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                    <a href="86">1.   Amb and Search      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-87">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-85" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                    <a href="87">2.   Examples of Nondeterministic Programs      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-85" href="#sidebar-collapse-88" aria-expanded="false" aria-controls="sidebar-collapse-88">
                    <a href="88">3.   Implementing the Amb Evaluator      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-89">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-89" aria-expanded="true" aria-controls="sidebar-collapse-89">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-72" href="#sidebar-collapse-89" aria-expanded="true" aria-controls="sidebar-collapse-89">
                    -
                  </a>
                    <a href="89">4. Logic Programming</a>
                </h5>
              </div>
              <div id="sidebar-collapse-89" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-90">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-89" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                    <a href="90">1.   Deductive Information Retrieval      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-91">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-89" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                    <a href="91">2.   How the Query System Works      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-89" href="#sidebar-collapse-92" aria-expanded="false" aria-controls="sidebar-collapse-92">
                    <a href="92">3.   Is Logic Programming Mathematical Logic?      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-93">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-89" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                    <a href="93">4.   Implementing the Query System      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>

                </div>
              </div>
            </div>

                             <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-94">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-94" aria-expanded="true" aria-controls="sidebar-collapse-94">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#nav-sidebar" href="#sidebar-collapse-94" aria-expanded="true" aria-controls="sidebar-collapse-94">
                    -
                  </a>
                    <a href="94">5. Computing with Register Machines</a>
                </h5>
              </div>
              <div id="sidebar-collapse-94" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-95">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-95" aria-expanded="true" aria-controls="sidebar-collapse-95">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-95" aria-expanded="true" aria-controls="sidebar-collapse-95">
                    -
                  </a>
                    <a href="95">1. Designing Register Machines</a>
                </h5>
              </div>
              <div id="sidebar-collapse-95" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-96">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-95" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                    <a href="96">1.   A Language for Describing Register Machines      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-95" href="#sidebar-collapse-97" aria-expanded="false" aria-controls="sidebar-collapse-97">
                    <a href="97">2.   Abstraction in Machine Design      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-95" href="#sidebar-collapse-98" aria-expanded="false" aria-controls="sidebar-collapse-98">
                    <a href="98">3.   Subroutines      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-99">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-95" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                    <a href="99">4.   Using a Stack to Implement Recursion      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-100">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-95" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                    <a href="100">5.   Instruction Summary      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-101">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-101" aria-expanded="true" aria-controls="sidebar-collapse-101">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-101" aria-expanded="true" aria-controls="sidebar-collapse-101">
                    -
                  </a>
                    <a href="101">2. A Register-Machine Simulator</a>
                </h5>
              </div>
              <div id="sidebar-collapse-101" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-102">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-101" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                    <a href="102">1.   The Machine Model      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-103">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-101" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                    <a href="103">2.   The Assembler      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-101" href="#sidebar-collapse-104" aria-expanded="false" aria-controls="sidebar-collapse-104">
                    <a href="104">3.   Generating Execution  Functions  for Instructions      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-105">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-101" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                    <a href="105">4.   Monitoring Machine Performance      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-106">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-106" aria-expanded="true" aria-controls="sidebar-collapse-106">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-106" aria-expanded="true" aria-controls="sidebar-collapse-106">
                    -
                  </a>
                    <a href="106">3. Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
              <div id="sidebar-collapse-106" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-107">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-106" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                    <a href="107">1.   Memory as Vectors      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-108">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-106" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                    <a href="108">2.   Maintaining the Illusion of Infinite Memory      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                    -
                  </a>
                    <a href="109">4. The Explicit-Control Evaluator</a>
                </h5>
              </div>
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-110">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-109" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                    <a href="110">1.   The Core of the Explicit-Control Evaluator      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-111">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-109" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                    <a href="111">2.   Sequence Evaluation and Tail Recursion      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-109" href="#sidebar-collapse-112" aria-expanded="false" aria-controls="sidebar-collapse-112">
                    <a href="112">3.   Conditionals, Assignments, and Definitions      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-113">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-109" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                    <a href="113">4.   Running the Evaluator      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-114">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-114" aria-expanded="true" aria-controls="sidebar-collapse-114">
                    +
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" data-parent="#sidebar-94" href="#sidebar-collapse-114" aria-expanded="true" aria-controls="sidebar-collapse-114">
                    -
                  </a>
                    <a href="114">5. Compilation</a>
                </h5>
              </div>
              <div id="sidebar-collapse-114" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                                <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-115">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-114" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                    <a href="115">1.   Structure of the Compiler      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-116">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-114" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                    <a href="116">2.   Compiling Expressions      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-114" href="#sidebar-collapse-117" aria-expanded="false" aria-controls="sidebar-collapse-117">
                    <a href="117">3.   Compiling Combinations      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-118">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-114" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                    <a href="118">4.   Combining Instruction Sequences      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-119">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-114" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                    <a href="119">5.   An Example of Compiled Code      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-120">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-114" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                    <a href="120">6.   Lexical Addressing      </a>
                  </a>
                </h5>
              </div>
            </div>
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-121">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#sidebar-114" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                    <a href="121">7.   Interfacing Compiled Code to the Evaluator      </a>
                  </a>
                </h5>
              </div>
            </div>

                </div>
              </div>
            </div>

                </div>
              </div>
            </div>

          </div>

           <div class="chapter-content">
    <div class="chapter-title">
        2.5.3.
        Example: Symbolic Algebra
      
    </div>
    <div class="chapter-text" >
        <div class="SUBSECTION"><SUBSECTION>
      

      
      
      <p>
      The manipulation of symbolic algebraic expressions is a complex
      process that illustrates many of the hardest problems that occur in
      the design of large-scale systems.  An algebraic expression, in
      
      general, can be viewed as a hierarchical structure, a tree of
      operators applied to operands.  We can construct algebraic expressions
      by starting with a set of primitive objects, such as constants and
      variables, and combining these by means of algebraic operators, such
      as addition and multiplication.  As in other languages, we form
      abstractions that enable us to refer to compound objects in simple
      terms.  Typical abstractions in symbolic algebra are ideas such as
      linear combination, polynomial, rational function, or trigonometric
      function.  We can regard these as compound <QUOTE>types,</QUOTE> which are often
      useful for directing the processing of expressions.  For example, we
      could describe the expression

      
        \[ x^{2}\, \sin (y^2+1)+x\, \cos 2y+\cos (y^3 -2y^2) \]
      
      as a polynomial in $x$ with coefficients that are trigonometric
      functions of polynomials in $y$ whose coefficients are integers.
      </p>
      <p>
      We will not attempt to develop a complete algebraic-manipulation
      system here.  Such systems are exceedingly complex programs, embodying
      deep algebraic knowledge and elegant algorithms.  What we will do is
      look at a simple but important part of algebraic manipulation: the
      arithmetic of polynomials.  We will illustrate the kinds of decisions
      the designer of such a system faces, and how to apply the ideas of
      abstract data and generic operations to help organize this effort.
      </p>

      <h2>
        Arithmetic on polynomials
      </h2>

      
      
      <p>
      Our first task in designing a system for performing arithmetic on
      polynomials is to decide just what a polynomial is.  Polynomials are
      normally defined relative to certain variables (the 
      
      
      <EM>
        indeterminates</EM> of the polynomial).  For simplicity, we will restrict
      ourselves to polynomials having just one indeterminate (
      
      
      <EM>
        univariate polynomials</EM>).<a class="superscript" id="footnote-link-1" href="46#footnote-1">[1]</a> We will define a polynomial to be a
      sum of terms, each of which is either a coefficient, a power of the
      indeterminate, or a product of a coefficient and a power of the
      indeterminate.  A coefficient is defined as an algebraic expression
      that is not dependent upon the indeterminate of the polynomial.  For
      example,
      
        \[ 5x^2 +3x +7 \]
      
      is a simple polynomial in $x$, and
      
        \[ (y^2 +1)x^3 +(2y)x+1 \]
      
      is a polynomial in $x$ whose coefficients are polynomials in $y$.
      </p>
      <p>
      Already we are skirting some thorny issues.  Is the first of these
      polynomials the same as the polynomial $5y^2 +3y +7$, or not?  A
      reasonable answer might be <QUOTE>yes, if we are considering a polynomial
        purely as a mathematical function, but no, if we are considering a
        polynomial to be a syntactic form.</QUOTE>  The second polynomial is
      algebraically equivalent to a polynomial in $y$ whose coefficients are
      polynomials in $x$.  Should our system recognize this, or not?
      Furthermore, there are other ways to represent a polynomial—for
      example, as a product of factors, or (for a univariate polynomial) as
      the set of roots, or as a listing of the values of the polynomial at a
      specified set of points.<a class="superscript" id="footnote-link-2" href="46#footnote-2">[2]</a>
      We can finesse these questions by deciding that in our
      algebraic-manipulation system a <QUOTE>polynomial</QUOTE> will be a
      particular syntactic form, not its underlying mathematical meaning.
      </p>
      <p>
      Now we must consider how to go about doing arithmetic on polynomials.
      In this simple system, we will consider only addition and
      multiplication.  Moreover, we will insist that two polynomials to be
      combined must have the same indeterminate.
      </p>
      <p>
      We will approach the design of our system by following the familiar
      discipline of data abstraction.  We will represent polynomials using a
      data structure called a 
      
      <EM>poly</EM>, which consists of a variable and a
      
      collection of terms.  We assume that we have selectors <kbd>variable</kbd>
      and <kbd>term_list</kbd> that extract those parts from a poly and
      a constructor <kbd>make_poly</kbd> that assembles a
      poly from a given variable and a term list.
      A variable will be just a symbol, so we can use the 
      
      <kbd>is_same_variable</kbd>
      function
      of Section <REF NAME="sec:symbolic-differentiation"></REF> to compare variables.
      
      
      The following
      functions
      define addition and multiplication of polys:

      <kbd EVAL="no" class="snippet">function add_poly(p1, p2) {
              if (is_same_variable(variable(p1), variable(p2))) {
                  return make_poly(variable(p1),
                                   add_terms(term_list(p1),
                                             term_list(p2)));
              } else {
                  error("Polys not in same var -- ADD_POLY "
                        + list(p1, p2));
              }
          }
          function mul_poly(p1, p2) {
              if (is_same_variable(variable(p1), variable(p2))) {
                  return make_poly(variable(p1),
                                   mul_terms(term_list(p1),
                                             term_list(p2)));
              } else {
                  error("Polys not in same var -- MUL_POLY "
                        + list(p1, p2));
            }
          }</kbd>
      </p>
      <p>
      To incorporate polynomials into our generic arithmetic system, we need
      to supply them with type tags.  We'll use the tag <kbd>"polynomial"</kbd>,
      and install appropriate operations on tagged polynomials in
      the operation table.  We'll embed all our code
      in an installation
      function
      for the polynomial package,
      similar to the ones in
      Section <REF NAME="sec:generic-arithmetic-operators"></REF>:
      
      
      

      <kbd EVAL="no" class="snippet">function install_polynomial_package() {
              // representation of poly
              function make_poly(variable, term_list) {
                  return pair(variable, term_list);
              }
              var variable = head;
              var term_list = tail;

              // &lt;functions is_same_variable and
              // is_variable from section 2.3.2&gt;

              // &lt;functions adjoin_term ...coeff from text below&gt;

              function add_poly(p1, p2) {
                  // &lt;functions used by add_poly&gt;
              }
              function mul_poly(p1, p2) {
                  // &lt;functions used by mul_poly&gt;
              }

              // interface to rest of the system
              function tag(p) {
                  return attach_tag("polynomial", p);
              }
              put('add', list("polynomial", "polynomial"),
                  function(p1, p2) {
                      return tag(add_poly(p1, p2));
                  });
              put('mul', list("polynomial", "polynomial"),
                  function(p1, p2) {
                      return tag(mul_poly(p1, p2));
                  });
              put('make', list('polynomial'),
                  function(variable, terms) {
                      return tag(make_poly(variable, terms));
                  });
          }</kbd>
      Polynomial addition is performed termwise.  Terms of the same order
      (i.e., with the same power of the indeterminate) must be combined.
      This is done by forming a new term of the same order whose coefficient
      is the sum of the coefficients of the addends.  Terms in one addend
      for which there are no terms of the same order in the other addend are
      simply accumulated into the sum polynomial being constructed.
      </p>
      <p>
      In order to manipulate term lists, we will assume that we have a
      constructor 
      
      <kbd>the_empty_termlist</kbd> that returns an empty term list
      and a constructor 
      
      <kbd>adjoin_term</kbd> that adjoins a new term to a term
      list.  We will also assume that we have a predicate 
      
      <kbd>is_empty_termlist</kbd> that tells if a given term list is empty, a selector
      
      <kbd>first_term</kbd> that extracts the highest-order term from a term
      list, and a selector 
      
      <kbd>rest_terms</kbd> that returns all but the highest-order
      term.  To manipulate terms, we will suppose that we have a
      constructor 
      
      <kbd>make_term</kbd> that constructs a term with given
      order and coefficient, and selectors 
      
      <kbd>order</kbd> and 
      
      <kbd>coeff</kbd> that return, respectively, the order and the
      coefficient of the term.  These operations allow us to consider both
      terms and term lists as data abstractions, whose concrete
      representations we can worry about separately.
      </p>
      <p>
      Here is the
      function
      that constructs the term list for the sum of two
      polynomials:<a class="superscript" id="footnote-link-3" href="46#footnote-3">[3]</a>

      <kbd EVAL="no" class="snippet">function add_terms(L1, L2) {
              if (is_empty_termlist(L1)) {
                  return L2;
              } else if (is_empty_termlist(L2)) {
                  return L1;
              } else {
                  var t1 = first_term(L1);
                  var t2 = first_term(L2);
                  if (order(t1) &gt; order(t2)) {
                      return adjoin_term(t1, add_terms(rest_terms(L1), L2));
                  } else if (order(t1) &lt; order(t2)) {
                      return adjoin_term(t2, add_terms(L1, rest_terms(L2)));
                  } else {
                      return adjoin_term(make_term(order(t1), 
                                                   add(coeff(t1),
                                                       coeff(t2))),
                                         add_terms(rest_terms(L1),
                                                   rest_terms(L2)));
                  }
              }
          }</kbd>

      The most important point to note here is that we used the generic
      addition
      function
      
      <kbd>add</kbd> to add together the coefficients of the
      terms being combined.  This has powerful consequences, as we will see
      below.
      </p>
      <p>
      In order to multiply two term lists, we multiply each term of the
      first list by all the terms of the other list, repeatedly using
      
      <kbd>mul_term_by_all_terms</kbd>
      , which multiplies a given term by
      all terms in a given term list.  The resulting term lists (one for
      each term of the first list) are accumulated into a sum.  Multiplying
      two terms forms a term whose order is the sum of the orders of the
      factors and whose coefficient is the product of the coefficients of
      the factors:

      <kbd EVAL="no" class="snippet">function mul_terms(L1, L2) {
              if (is_empty_termlist(L1)) {
                  return the_empty_termlist;
              } else {
                  return add_terms(mul_term_by_all_terms(first_term(L1), L2),
                                   mul_terms(rest_terms(L1), L2));
              }
          }
          function mul_term_by_all_terms(t1, L) {
              if (is_empty_termlist(L)) {
                  return the_empty_termlist;
              } else {
                  var t2 = first_term(L);
                  return adjoin_term(make_term(order(t1) + order(t2),
                                               mul(coeff(t1), coeff(t2))),
                                     mul_term_by_all_terms(t1, rest_terms(L)));
              }
          }</kbd>
      </p>
      <p>
      This is really all there is to polynomial addition and multiplication.
      
      
      Notice that, since we operate on terms using the generic
      functions
      <kbd>add</kbd> and <kbd>mul</kbd>, our polynomial package is automatically able
      to handle any type of coefficient that is known about by the generic
      arithmetic package.  If we include a 
      
      coercion mechanism such as one of
      those discussed in Section <REF NAME="sec:combining-data-of-different-types"></REF>,
      then we also are automatically able to handle operations on
      polynomials of different coefficient types, such as
      
        \[ 
        {\left[3x^2 +(2+3i)x+7\right] \cdot \left[x^4 +\frac{2}{3}x^2
        +(5+3i)\right]}
        \]
      

      Because we installed the polynomial addition and
      multiplication
      functions
      
      <kbd>add_poly</kbd>
       and 
      
      <kbd>mul_poly</kbd>
       in the generic
      arithmetic system as the <kbd>add</kbd> and <kbd>mul</kbd> operations
      for type <kbd>polynomial</kbd>, our system is also
      automatically able to handle polynomial operations such as
      
        \[
        {\left[ (y+1)x^2 +(y^2 +1)x+(y-1)\right]\cdot \left[(y-2)
        x+(y^3 +7)\right]}
        \]
      
      </p>
      <p>
      The reason is that when the system tries to combine coefficients, it
      will dispatch through <kbd>add</kbd> and <kbd>mul</kbd>.  Since the coefficients
      are themselves polynomials (in $y$), these will be combined using 
      
      <kbd>add_poly</kbd>
       and 
      
      <kbd>mul_poly</kbd>
      .  The result is a kind of 
      
      
      <QUOTE>data-directed recursion</QUOTE> in which, for example, a call to 
      
      <kbd>mul_poly</kbd>
       will result
      in recursive calls to 
      
      <kbd>mul_poly</kbd>
       in order to multiply the
      coefficients.  If the coefficients of the coefficients were themselves
      polynomials (as might be used to represent polynomials in three
      variables), the data direction would ensure that the system would
      follow through another level of recursive calls, and so on through as
      many levels as the structure of the data dictates.<a class="superscript" id="footnote-link-4" href="46#footnote-4">[4]</a>
      
      
      </p>

      <h2>
        Representing term lists
      </h2>

      
      <p>
      Finally, we must confront the job of implementing a good
      representation for term lists.  A term list is, in effect, a set of
      coefficients keyed by the order of the term.  Hence, any of the
      methods for representing sets, as discussed in
      Section <REF NAME="sec:representing-sets"></REF>, can be applied to this task.  On
      the other hand, our
      functions
      
      
      <kbd>add_terms</kbd>
       and 
      
      <kbd>mul_terms</kbd>
       always
      access term lists sequentially from highest to lowest order.  Thus, we
      will use some kind of ordered list representation.
      </p>
      <p>
      How should we structure the list that represents a term list?  One
      consideration is the <QUOTE>density</QUOTE> of the polynomials we intend to
      manipulate.  A polynomial is said to be 
      
      
      <EM>dense</EM> if it has nonzero
      coefficients in terms of most orders.  If it has many zero terms it
      is said to be 
      
      
      <EM>sparse</EM>.  For example,
      
        \[ A:\quad x^5 +2x^4 +3x^2 -2x -5 \]
      
      is a dense polynomial, whereas
      
        \[ B:\quad x^{100} +2x^2 +1 \]
      
      is sparse.
      </p>
      <p>
      The term lists of dense polynomials are most efficiently represented
      as lists of the coefficients.  For example, $A$ above would be nicely
      represented as 
      <kbd>list(1, 2, 0, 3, -2, -5)</kbd>.  The order of a term in this
      representation is the length of the sublist beginning with that term's
      coefficient, decremented by 1.<a class="superscript" id="footnote-link-5" href="46#footnote-5">[5]</a>  
      This would be a terrible representation for a
      sparse polynomial such as $B$: There would be a giant list of zeros
      punctuated by a few lonely nonzero terms.  A more reasonable
      representation of the term list of a sparse polynomial is as a list of
      the nonzero terms, where each term is a list containing the order of the
      term and the coefficient for that order.  In such a scheme, polynomial
      $B$ is efficiently represented as 
      
      <kbd>list(list(100, 1), list(2, 2), list(0, 1))</kbd>.  As
      most polynomial manipulations are performed on sparse polynomials, we
      will use this method.  We will assume that term lists are represented
      as lists of terms, arranged from highest-order to lowest-order term.
      Once we have made this decision, implementing the selectors and
      constructors for terms and term lists is straightforward:<a class="superscript" id="footnote-link-6" href="46#footnote-6">[6]</a>

      <kbd EVAL="no" class="snippet">function adjoin_term(term, term_list) {
              if (is_equal_to_zero(coeff(term))) {
                return term_list;
              } else {
                return pair(term, term_list);
              }
          }

          var the_empty_termlist = [];
          function first_term(term_list) {
              return head(term_list);
          }
          function rest_terms(term_list) {
              return tail(term_list);
          }
          function is_empty_termlist(term_list) {
              return is_empty_list(term_list);
          }
          function make_term(order, coeff) {
              return list(order, coeff);
          }
          function order(term) {
              return head(term);
          }
          function coeff(term) {
              return head(tail(term));
          }</kbd>

      where 
      <kbd>is_equal_to_zero</kbd>
       is as defined in
      Exercise <REF NAME="ex:=zero?"></REF>.  (See also Exercise <REF NAME="ex:adjoin-term"></REF> below.)
      </p>
      <p>
      Users of the polynomial package
      will create (tagged) polynomials by means of the
      function:

      <kbd EVAL="no" class="snippet">function make_polynomial(variable, terms) {
              return get('make', 'polynomial')(variable, terms);
          }</kbd>
      </p>
      <EXERCISE>
        
        
        Install 
      <kbd>is_equal_to_zero</kbd>
       for polynomials in the generic arithmetic
        package.  This will allow 
      <kbd>adjoin_term</kbd>
       to work for polynomials
        with coefficients that are themselves polynomials.
        
      </EXERCISE> 

      <EXERCISE>
        
        Extend the polynomial system to include subtraction of polynomials.
        (Hint: You may find it helpful to define a generic negation operation.)
        
      </EXERCISE> 

      <EXERCISE> 
        Define
        functions
        that implement the term-list representation
        described above as appropriate for dense polynomials.
      </EXERCISE> 

      <EXERCISE> 
        Suppose we want to have a polynomial system that is efficient for both
        sparse and dense polynomials.  One way to do this is to allow both
        kinds of term-list representations in our system.  The situation is
        analogous to the complex-number example of Section <REF NAME="sec:multiple-reps"></REF>,
        where we allowed both rectangular and polar representations.
        To do this we must distinguish different types of term lists and make
        the operations on term lists generic.  Redesign the polynomial system
        to implement this generalization.  This is a major effort, not a local
        change.
      </EXERCISE> 
      

      <EXERCISE>
        
        A univariate polynomial can be divided by another one to produce a
        polynomial quotient and a polynomial remainder.  For example,

        
          \[ \frac{x^5-1}{x^2 -1}=x^3 +x,\hbox{ remainder }x-1 \]
        


        Division can be performed via long division.
        That is, divide the highest-order term of the dividend by
        the highest-order term of the divisor.  The result is the first term of the
        quotient.  Next, multiply the result by the divisor, subtract that
        from the dividend, and produce the rest of the answer by recursively
        dividing the difference by the divisor.  Stop when the order of the
        divisor exceeds the order of the dividend and declare the dividend to
        be the remainder.  Also, if the dividend ever becomes zero, return
        zero as both quotient and remainder.

        
        We can design a 
      <kbd>div_poly</kbd>
        function
        on the model of 
      <kbd>add_poly</kbd>
       and 
      <kbd>mul_poly</kbd>. The
        function
        checks to see if the two polys have
        the same variable.  If so, 
      <kbd>div_poly</kbd>
       strips off the variable and
        passes the problem to 
      <kbd>div_terms</kbd>
      , which performs the division
        operation on term lists. 
      <kbd>div_poly</kbd>
       finally reattaches the variable
        to the result supplied by 
      <kbd>div_terms</kbd>
      .  It is convenient
        to design 
      <kbd>div_terms</kbd>
       to compute both the quotient and the remainder
        of a division.  
      <kbd>div_terms</kbd>
       can take two term lists as arguments and
        return a list of the quotient term list and the remainder term list.

        Complete the following definition of 
      <kbd>div_terms</kbd>
       by filling in the
        missing expressions.  Use this to implement 
      <kbd>div_poly</kbd>
      , which takes
        two polys as arguments and returns a list of the quotient and
        remainder polys.

        <kbd EVAL="no" class="snippet">function div_terms(L1, L2) {
                if (is_empty_termlist(L1)) {
                    return list(the_empty_termlist, the_empty_termlist);
                } else {
                    var t1 = first_term(L1);
                    var t2 = first_term(L2);
                    if (order(t2) &gt; order(t1)) {
                        return list(the_empty_termlist, L1);
                    } else {
                        var new_c = div(coeff(t1), coeff(t2));
                        var new_o = order(t1) - order(t2);
                        var rest_of_result = "&lt;compute rest of result recursively&gt;";
                        // &lt;form complete result&gt;
                    }
                }
            }</kbd>
      </EXERCISE> 

      <h2>
        Hierarchies of types in symbolic algebra
      </h2>

      
      
      
      <p>
      Our polynomial system illustrates how objects of one type
      (polynomials) may in fact be complex objects that have objects of many
      different types as parts.  This poses no real difficulty in defining
      generic operations.  We need only install appropriate generic operations
      for performing the necessary manipulations of the parts of the
      compound types.  In fact, we saw that polynomials form a kind of
      <QUOTE>recursive data abstraction,</QUOTE> in that parts of a polynomial may
      themselves be polynomials.  Our generic operations and our
      data-directed programming style can handle this complication without
      much trouble.
      </p>
      <p>
      On the other hand, polynomial algebra is a system for which the data
      types cannot be naturally arranged in a tower.  For instance, it is
      possible to have polynomials in $x$ whose coefficients are polynomials
      in $y$.  It is also possible to have polynomials in $y$ whose
      coefficients are polynomials in $x$.  Neither of these types is
      <QUOTE>above</QUOTE> the other in any natural way, yet it is often necessary to
      add together elements from each set.  There are several ways to do
      this.  One possibility is to convert one polynomial to the type of the
      other by expanding and rearranging terms so that both polynomials have
      the same principal variable.  One can impose a towerlike structure on
      this by ordering the variables and thus always converting any
      polynomial to a 
      
      
      <QUOTE>canonical form</QUOTE> with the highest-priority variable
      dominant and the lower-priority variables buried in the coefficients.
      This strategy works fairly well, except that the conversion may expand
      a polynomial unnecessarily, making it hard to read and perhaps less
      efficient to work with.  The tower strategy is certainly not natural
      for this domain or for any domain where the user can invent new types
      dynamically using old types in various combining forms, such as
      trigonometric functions, power series, and integrals.
      </p>
      <p>
      It should not be surprising that controlling 
      
      coercion is a serious
      problem in the design of large-scale algebraic-manipulation systems.
      Much of the complexity of such systems is concerned with relationships
      among diverse types.  Indeed, it is fair to say that we do not yet
      completely understand coercion.  In fact, we do not yet completely
      understand the concept of a data type.  Nevertheless, what we know
      provides us with powerful structuring and modularity principles to
      support the design of large systems.
      </p>

      <EXERCISE>
        By imposing an ordering on variables, extend the polynomial package so
        that addition and multiplication of polynomials works for polynomials
        in different variables.  (This is not easy!)
      </EXERCISE> 
      
      
      

      <h2>
        Extended exercise: Rational functions
      </h2>

      
      
      
      <p>
      We can extend our generic arithmetic system to include <EM>rational
        functions</EM>.  These are <QUOTE>fractions</QUOTE> whose numerator and denominator
      are polynomials, such as

      
        \[ \frac{x+1}{x^3 -1} \]
      

      The system should be able to add, subtract, multiply, and divide
      rational functions, and to perform such computations as
      
        \[ \frac{x+1}{x^3 -1}+\frac{x}{x^2 -1}=\frac{x^3 +2x^2 +3x +1}{x^4 +
        x^3 -x-1} \]
      
      (Here the sum has been simplified by removing common factors.
      Ordinary <QUOTE>cross multiplication</QUOTE> would have produced a 
      fourth-degree polynomial over a fifth-degree polynomial.)
      </p>
      <p>
      If we modify our rational-arithmetic package so that it uses generic
      operations, then it will do what we want, except for the problem
      of reducing fractions to lowest terms.
      </p>

      <EXERCISE> 
        Modify the rational-arithmetic package to use generic operations, but
        change 
      <kbd>make_rat</kbd>
       so that it does not attempt to reduce fractions
        to lowest terms.  Test your system by calling 
        
      <kbd>make_rational</kbd>
       on
        two polynomials to produce a rational function

        <kbd EVAL="no" class="snippet">var p1 = make_polynomial("x", list(make_term(2, 1),
                                               make_term(0, 1)));
            var p2 = make_polynomial("x", list(make_term(3, 1),
                                               make_term(0, 1)));
            var rf = make_rational(p2, p1);</kbd>

        Now add <kbd>rf</kbd> to itself, using <kbd>add</kbd>. You will observe that
        this addition
        function
        does not reduce fractions to lowest terms.
        
      </EXERCISE> 

      <p>
      We can reduce polynomial fractions to lowest terms using the same idea
      we used with integers: modifying 
      <kbd>make_rat</kbd>
       to divide both the numerator and the denominator by their
      greatest common divisor. The notion of 
      
      
      <QUOTE>greatest common divisor</QUOTE> makes sense for polynomials.  In
      fact, we can compute the GCD of two polynomials using essentially the
      same Euclid's Algorithm that works for integers.<a class="superscript" id="footnote-link-7" href="46#footnote-7">[7]</a>  The
      integer version is

      <kbd EVAL="no" class="snippet">function gcd(a, b) {
              if (b === 0) {
                  return a;
              } else {
                  return gcd(b, remainder(a, b));
              }
          }</kbd>

      Using this, we could make the obvious modification to define a GCD
      operation that works on term lists:

      <kbd EVAL="no" class="snippet">function gcd_terms(a, b) {
              if (is_empty_termlist(b)) {
                  return a;
              } else {
                  return gcd_terms(b, remainder_terms(a, b));
              }
          }</kbd>

      where 
      <kbd>remainder_terms</kbd>
       picks out the remainder component of the
      list returned by the term-list division operation 
      
      <kbd>div_terms</kbd>
       that was implemented in Exercise <REF NAME="ex:/terms"></REF>.
      </p>

      <EXERCISE> 
        
        
        Using 
      <kbd>div_terms</kbd>
      , implement the
        function
        
      <kbd>remainder_terms</kbd>
       and use this to define 
      
      <kbd>gcd_terms</kbd>
       as above.  Now write a
        function
        
      <kbd>gcd_poly</kbd>
       that computes the polynomial GCD of two polys.(The
        function
        should signal an error if the two polys are not
        in the same variable.)  Install in the system a generic operation 
      
      <kbd>greatest_common_divisor</kbd>
       that reduces to 
      <kbd>gcd_poly</kbd>
       for polynomials
        and to ordinary <kbd>gcd</kbd> for ordinary numbers.  As a test, try

        <kbd EVAL="no" class="snippet">var p1 = make_polynomial("x", list(make_term(4, 1),
                                               make_term(3, -1),
                                               make_term(2, -2),
                                               make_term(1, 2)));
            var p2 = make_polynomial("x", list(make_term(3, 1),
                                               make_term(1, -1)));
            greatest_common_divisor(p1, p2);</kbd>

        and check your result by hand.
        
      </EXERCISE> 

      <EXERCISE> 
        Define $P_{1}$, $P_{2}$, and $P_{3}$ to be the polynomials

        
          \[ P_{1}:\ \ x^2 -2x+1 \]
        

        
          \[ P_{2}:\ \ 11x^2 +7 \]
        

        
          \[ P_{3}:\ \ 13x +5 \]
        


        Now define $Q_1$ to be the product of $P_1$ and $P_2$ and $Q_2$ to
        be the product of $P_1$ and $P_3$, and use 
      
      <kbd>greatest_common_divisor</kbd>
      
        (Exercise <REF NAME="ex:remainder-terms"></REF>) to
        compute the GCD of $Q_1$ and $Q_2$.
        Note that the answer is not the same as $P_1$.
        This example introduces noninteger
        operations into the computation, causing difficulties with the GCD
        algorithm.<a class="superscript" id="footnote-link-8" href="46#footnote-8">[8]</a>
        To understand what is happening,
        try tracing 
      <kbd>gcd_terms</kbd>
       while computing the GCD or
        try performing the division by hand.
        
      </EXERCISE> 

      <p>
      We can solve the problem exhibited in Exercise <REF NAME="ex:gcd-of-polys"></REF> if
      we use the following modification of the GCD algorithm (which really
      works only in the case of polynomials with integer coefficients).
      Before performing any polynomial division in the GCD computation, we
      multiply the dividend by an integer constant factor, chosen to
      guarantee that no fractions will arise during the division process.
      Our answer will thus differ from the actual GCD by an integer constant
      factor, but this does not matter in the case of reducing rational
      functions to lowest terms; the GCD will be used to divide both the
      numerator and denominator, so the integer constant factor will cancel
      out.
      </p>
      <p>
      More precisely, if $P$ and $Q$ are polynomials, let $O_1$ be the
      order of $P$ (i.e., the order of the largest term of $P$) and let
      $O_2$ be the order of $Q$.  Let $c$ be the leading coefficient of
      $Q$.  Then it can be shown that, if we multiply $P$ by the 
      
      <EM>
        integerizing factor</EM> $c^{1+O_{1} -O_{2}}$, the resulting polynomial can
      be divided by $Q$ by using the 
      
      <kbd>div_terms</kbd>
       algorithm without
      introducing any fractions.  The operation of multiplying the dividend
      by this constant and then dividing is sometimes called the 
      
      
      <EM>
        pseudodivision</EM> of $P$ by $Q$.  The remainder of the division is
      called the <EM>pseudoremainder</EM>.
      </p>

      <EXERCISE> 
        
        <OL>
          <LI>
            Implement the
            function
            
            <kbd>pseudoremainder_terms</kbd>
            , which is just like
            
            
            <kbd>remainder_terms</kbd>
             except that it multiplies the dividend by
            the integerizing factor described above before calling 
            
            <kbd>div_terms</kbd>
            .
            Modify 
            <kbd>gcd_terms</kbd>
             to use 
            <kbd>pseudoremainder_terms</kbd>
            , and verify that 
            
            <kbd>greatest_common_divisor</kbd>
             now produces an answer with integer
            coefficients on the example in Exercise <REF NAME="ex:gcd-of-polys"></REF>.
          </LI>
          <LI>
            The GCD now has integer coefficients, but they are larger than those
            of $P_1$.  Modify 
            
            <kbd>gcd_terms</kbd>
             so that it removes common factors from
            the coefficients of the answer by dividing all the coefficients by their
            (integer) greatest common divisor.
          </LI>
        </OL>
      </EXERCISE>

      
      
      
      <p>
      Thus, here is how to reduce a rational function to lowest terms:

      <UL>
        <LI>Compute the GCD of the numerator and denominator, using
          the version of 
            <kbd>gcd_terms</kbd>
             from Exercise <REF NAME="ex:pseudoremainder-terms"></REF>.

        </LI>
        <LI>When you obtain the GCD, multiply both numerator and
          denominator by the same integerizing factor before dividing through by
          the GCD, so that division by the GCD will not introduce any noninteger
          coefficients.  As the factor you can use the leading coefficient of
          the GCD raised to the power $1+O_{1} -O_{2}$, where $O_{2}$ is the order of the GCD and $O_{1}$ is the maximum of the orders of the numerator
          and denominator.  This will ensure that dividing the numerator and
          denominator by the GCD will not introduce any fractions.

        </LI>
        <LI>The result of this operation will be a numerator and denominator
          with integer coefficients.  The coefficients will normally be very
          large because of all of the integerizing factors, so the last step is
          to remove the redundant factors by computing the (integer) greatest
          common divisor of all the coefficients of the numerator and the
          denominator and dividing through by this factor.
        </LI>

      </UL>
      </p>

      <EXERCISE>
        
        <OL>
          <LI> Implement this algorithm as a
            function
            
            <kbd>reduce_terms</kbd>
             that takes two
            term lists <kbd>n</kbd> and <kbd>d</kbd> as arguments and returns a list <kbd>nn</kbd>, <kbd>dd</kbd>, which are <kbd>n</kbd> and <kbd>d</kbd> reduced to lowest terms
            via the algorithm given above.
            Also write a
            function
            
            <kbd>reduce_poly</kbd>
            , analogous to 
            
            <kbd>add_poly</kbd>
            ,
            that checks to see if the two polys have
            the same variable.  If so, 
            
            <kbd>reduce_poly</kbd>
             strips off the variable and
            passes the problem to 
            
            <kbd>reduce_terms</kbd>
            , then reattaches the variable
            to the two term lists supplied by 
            
            <kbd>reduce_terms</kbd>
            .
          </LI>

          <LI>
            Define a
            function
            analogous to 
            
            <kbd>reduce_terms</kbd>
            
            that does what the original 
            
            <kbd>make_rat</kbd>
             did for integers:

            <kbd EVAL="no" class="snippet">function reduce_integers(n, d) {
                    var g = gcd(n, d);
                    return list(n / g, d / g);
                }</kbd>

            and define
            <kbd>reduce</kbd> as a generic operation that calls 
            
            <kbd>apply_generic</kbd>
             to dispatch to either 
            
            <kbd>reduce_poly</kbd>
             (for <kbd>polynomial</kbd> arguments)
            or 
            <kbd>reduce_integers</kbd>
             (for 
            
            <kbd>javascript_number</kbd>
             arguments).
            You can now easily make the
            rational-arithmetic package reduce fractions to lowest terms by
            having 
            <kbd>make_rat</kbd>
             call <kbd>reduce</kbd> before combining the given
            numerator and denominator to form a rational number.
            The system now
            handles rational expressions in either integers or polynomials.
            To test your program, try the example at the beginning of this
            extended exercise:

            <kbd EVAL="no" class="snippet">var p1 = make_polynomial("x", list(make_term(1, 1),
                                                   make_term(0, 1)));
                var p2 = make_polynomial("x", list(make_term(3, 1),
                                                   make_term(0, -1)));
                var p3 = make_polynomial("x", list(make_term(1, 1)));
                var p4 = make_polynomial("x", list(make_term(2, 1),
                                                   make_term(0, -1)));

                var rf1 = make_rational(p1, p2);
                var rf2 = make_rational(p3, p4);

                add(rf1, rf2);</kbd>

            See if you get the correct answer, correctly reduced to lowest terms.
          </LI>
        </OL>
      </EXERCISE> 

      <p>
        
        
        The GCD computation is at the heart of any system that does operations
        on rational functions.  The algorithm used above, although
        mathematically straightforward, is extremely slow.  The slowness is
        due partly to the large number of division operations and partly to
        the enormous size of the intermediate coefficients generated by the
        pseudodivisions.  One of the active areas in the development of
        algebraic-manipulation systems is the design of better algorithms for
        computing polynomial GCDs.<a class="superscript" id="footnote-link-9" href="46#footnote-9">[9]</a>
        
        
        
        
        
        
      </p>

    <hr>
<div class="footnote">
<a class="footnote-number" id="footnote-1" href="46#footnote-link-1">[1] </a><FOOTNOTE>On the other hand, we will allow
        polynomials whose coefficients are themselves polynomials in other
        variables.  This will give us essentially the same representational
        power as a full multivariate system, although it does lead to coercion
        problems, as discussed below.</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-2" href="46#footnote-link-2">[2] </a><FOOTNOTE>For univariate polynomials, giving
        the value of a polynomial at a given set of points can be a
        particularly good representation.  This makes polynomial arithmetic
        extremely simple.  To obtain, for example, the sum of two polynomials
        represented in this way, we need only add the values of the
        polynomials at corresponding points.  To transform back to a more
        familiar representation, we can use the 
        
        Lagrange interpolation
        formula, which shows how to recover the coefficients of a polynomial
        of degree $n$ given the values of the polynomial at $n+1$ points.</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-3" href="46#footnote-link-3">[3] </a><FOOTNOTE>This operation is very much like the ordered
        <kbd>union_set</kbd> operation we developed in Exercise <REF NAME="union-set"></REF>.
        In fact, if we think of the terms of the polynomial as a set ordered
        according to the power of the indeterminate, then the program that
        produces the term list for a sum is almost identical to <kbd>union_set</kbd>.</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-4" href="46#footnote-link-4">[4] </a><FOOTNOTE>To make
        this work completely smoothly, we should also add to our generic
        arithmetic system the ability to coerce a <QUOTE>number</QUOTE> to a polynomial
        by regarding it as a polynomial of degree zero whose coefficient is
        the number.  This is necessary if we are going to perform operations
        such as
        
          \[
          {\left[ x^2 +(y+1)x+5\right]+ \left[ x^2 +2x+1\right]}
          \]
        
        which requires adding the coefficient $y+1$ to the coefficient 2.</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-5" href="46#footnote-link-5">[5] </a><FOOTNOTE>In these polynomial examples,
        we assume that we have implemented the generic arithmetic system using
        the type mechanism suggested in Exercise <REF NAME="ex:internal-type-system"></REF>.
        Thus, coefficients that are ordinary numbers will be represented as
        the numbers themselves rather than as pairs whose <kbd>head</kbd> is the
        symbol 
      <kbd>javascript_number</kbd>
      .</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-6" href="46#footnote-link-6">[6] </a><FOOTNOTE>Although
        we are assuming that term
        lists are ordered, we have implemented 
      
      <kbd>adjoin_term</kbd>
       to simply
        <kbd>pair</kbd> the new term onto the existing term list.  We can get away
        with this so long as we guarantee that the
        functions
        (such as 
      <kbd>add_terms</kbd>
      ) that use 
      
      <kbd>adjoin_term</kbd>
       always call it with a higher-order
        term than appears in the list.  If we did not want to make such a
        guarantee, we could have implemented 
      
      <kbd>adjoin_term</kbd>
       to be similar to the 
      
      <kbd>adjoin_set</kbd>
       constructor for the ordered-list
        representation of sets (Exercise <REF NAME="ex:adjoin-set"></REF>).</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-7" href="46#footnote-link-7">[7] </a><FOOTNOTE>The fact
        that 
        
        
        Euclid's Algorithm works for polynomials is formalized in algebra
        by saying that polynomials form a kind of algebraic domain called a
        
        
        <EM>Euclidean ring</EM>.  A Euclidean ring is a domain that admits
        addition, subtraction, and commutative multiplication, together with a
        way of assigning to each element $x$ of the ring a positive integer
        <QUOTE>measure</QUOTE> $m(x)$ with the properties that $m(xy)\geq m(x)$ for
        any nonzero $x$ and $y$ and that, given any $x$ and $y$, there exists
        a $q$ such that $y=qx+r$ and either $r=0$ or $m(r)&lt; m(x)$.  From an
        abstract point of view, this is what is needed to prove that Euclid's
        Algorithm works.  For the domain of integers, the measure $m$ of an
        integer is the absolute value of the integer itself.  For the domain
        of polynomials, the measure of a polynomial is its degree.</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-8" href="46#footnote-link-8">[8] </a><FOOTNOTE>In an implementation like MIT Scheme, this produces a polynomial
          that is indeed a divisor of $Q_1$ and $Q_2$, but with rational coefficients.
          In many other Scheme systems, in which division of integers can produce
          limited-precision decimal numbers, we may fail to get a valid divisor.</FOOTNOTE>
</div>
<div class="footnote">
<a class="footnote-number" id="footnote-9" href="46#footnote-link-9">[9] </a><FOOTNOTE>One extremely efficient and
          elegant method for computing 
          
          
          
          
          polynomial GCDs was discovered by 
          
          Richard
          Zippel (1979).  The method is a probabilistic algorithm, as is the
          fast test for primality that we discussed in Chapter 1.  Zippel's book
          (1993) describes this method, together with other ways to compute
          polynomial GCDs.</FOOTNOTE>
</div></SUBSECTION></div>
    </div>

    <div class="nav">
    <!--
      <div type="button" class="btn btn-secondary">
        <a href="http://localhost:3000/chapters/45">&lt; Previous</a>
    </div>
    -->
      <div type="button" class="btn btn-secondary">
        <a class="scroll-next" href="47">Next &gt;</a>
      </div>


  </div>
  <script>
//<![CDATA[
var chapter_id = 46;
//]]>
</script>
  <div class="next-page"></div>
</div>

     </div><!-- /.container -->

     <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
     -->
   </body>
</html>
